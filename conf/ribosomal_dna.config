params {
  config_profile_description  = 'Configuration for bowtie2 and Ribosomal DNA'
  config_profile_contact      = 'Christian Poitras (@christianpoitras)'
  config_profile_url          = 'https://github.com/BenMartinLab/chipseq'
}

process {
  withName: 'BOWTIE2_ALIGN' {
    ext.args   = {
      [
        meta.read_group ? "--rg-id ${meta.id} --rg SM:${meta.id - ~/_T\d+$/} --rg PL:ILLUMINA --rg LB:${meta.id} --rg PU:1" : '',
        params.seq_center ? "--rg CN:${params.seq_center}" : '',
        "-X 2000"
      ].join(' ').trim()
    }
  }
}
